## java-port-forwarding
> Across the intranet we can reach every corner in the world.

写点什么好呢？
1. 服务器端与客户端使用固定端口进行指令通信
2. 服务器要求客户端来转发，转发到ip:port这边
3. 客户端连接到目标ip:port，同时连接到服务器端，服务器端开设新端口监听进行转发
4. 搞清楚服务器、客户端需要预设哪些端口

### 设置


### 例如
* 服务器：代理服务器
    * 指令通信服务：1234
    * 代理服务：1122
    * 代理转发服务：2233
* 主机：被代理的机器
    * 被代理的端口：3389
* 客户端：需要连接到主机的用户


### 转发
1. 服务器监听1234，以及1122
2. 当有客户端连接到1122时，服务器通知主机端转发3389端口
3. 主机端连接到本地3389，同时连接到服务器端的2233（或1122）

### 探讨
1. 代理服务与代理转发服务，要不要共用同一个端口？
2. 这样的话，每个连接连上来时，需要声明自身的身份
3. 或者是，服务器只提供处理好指令通信服务，它同时用于下达指令以及转发端口数据包**好像这样比较妥当**

### 数据包
* FA FA FA 协议头
* 00 00 00 00 加密后的数据体长度
* 00 00 00 00 主机ID
* 00 00 指令，最高2位用于描述加密类型，01表示AES加密，后14位表示指令
* ...... AES加密后的数据体

### 安全
1. 是否需要加密指令数据包？
2. 不搞临时身份令牌

